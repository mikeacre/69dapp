import { Template } from 'meteor/templating';
import { ReactiveVar } from 'meteor/reactive-var';

import './main.html';
import './lib/init.js';
import './lib/adCardGame.js';
import './lib/adCardToken.js';


var adGameContract = new web3.eth.contract(adCardGame.abi, '0x5871935143e4e88114a92866895b0e8d43bb4931');
var adTokenContract = new web3.eth.contract(adCardToken.abi, '0x93d9179a87ad987420c9b1622a579b3f5981c80d');

var name = /* var of type string here */ ;
var symbol = /* var of type string here */ ;
var adcardtokenContract = web3.eth.contract([{"constant":true,"inputs":[{"name":"_interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"tokenProperty","outputs":[{"name":"number","type":"uint256"},{"name":"probHigh","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_tokenId","type":"uint256"}],"name":"approve","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getCardsLength","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"mint","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"InterfaceId_ERC165","outputs":[{"name":"","type":"bytes4"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"amount","type":"uint256"}],"name":"withdraw","outputs":[{"name":"","type":"bool"}],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_tokenId","type":"uint256"}],"name":"getTokenProperty","outputs":[{"name":"_number","type":"uint256"},{"name":"_probs","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_tokenId","type":"uint256"}],"name":"burn","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_tokenId","type":"uint256"}],"name":"exists","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"cards","outputs":[{"name":"number","type":"uint256"},{"name":"probHigh","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_tokenId","type":"uint256"},{"name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"numbers","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"getOwnedTokens","outputs":[{"name":"","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"probs","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"name","type":"string"},{"name":"symbol","type":"string"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"}],"name":"OwnershipRenounced","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":true,"name":"_tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_approved","type":"address"},{"indexed":true,"name":"_tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_operator","type":"address"},{"indexed":false,"name":"_approved","type":"bool"}],"name":"ApprovalForAll","type":"event"}]);
var adcardtoken = adcardtokenContract.new(
   name,
   symbol,
   {
     from: web3.eth.accounts[0],
     data: '0x608060405261014060405190810160405280600060ff168152602001600160ff168152602001600260ff168152602001600360ff168152602001600460ff168152602001600560ff168152602001600660ff168152602001600760ff168152602001600860ff168152602001600960ff16815250600e90600a6200008592919062000384565b5060a060405190810160405280600060ff168152602001601960ff168152602001603260ff168152602001604b60ff168152602001606460ff16815250600f906005620000d4929190620003db565b506000601055348015620000e757600080fd5b5060405162002edc38038062002edc83398101806040528101908080518201929190602001805182019291905050508181620001556301ffc9a77c010000000000000000000000000000000000000000000000000000000002620002c6640100000000026401000000009004565b620001926380ac58cd7c010000000000000000000000000000000000000000000000000000000002620002c6640100000000026401000000009004565b620001cf634f558e797c010000000000000000000000000000000000000000000000000000000002620002c6640100000000026401000000009004565b8160059080519060200190620001e792919062000432565b5080600690805190602001906200020092919062000432565b506200023e63780e9d637c010000000000000000000000000000000000000000000000000000000002620002c6640100000000026401000000009004565b6200027b635b5e139f7c010000000000000000000000000000000000000000000000000000000002620002c6640100000000026401000000009004565b505033600c60006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505050620004e1565b63ffffffff7c010000000000000000000000000000000000000000000000000000000002817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916141515156200031857600080fd5b6001600080837bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916815260200190815260200160002060006101000a81548160ff02191690831515021790555050565b828054828255906000526020600020908101928215620003c8579160200282015b82811115620003c7578251829060ff16905591602001919060010190620003a5565b5b509050620003d79190620004b9565b5090565b8280548282559060005260206000209081019282156200041f579160200282015b828111156200041e578251829060ff16905591602001919060010190620003fc565b5b5090506200042e9190620004b9565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200047557805160ff1916838001178555620004a6565b82800160010185558215620004a6579182015b82811115620004a557825182559160200191906001019062000488565b5b509050620004b59190620004b9565b5090565b620004de91905b80821115620004da576000816000905550600101620004c0565b5090565b90565b6129eb80620004f16000396000f30060806040526004361061018b576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806301ffc9a71461019057806306fdde03146101f4578063081812fc1461028457806308c243aa146102f1578063095ea7b3146103395780630ff1b75e146103865780631249c58b146103b157806318160ddd146103bb57806319fa8f50146103e657806323b872dd1461044f5780632e1a7d4d146104bc5780632f745c59146104f457806338e5cdce1461055557806342842e0e1461059d57806342966c681461060a5780634f558e79146106375780634f6ccce71461067c5780636352211e146106bd57806370a082311461072a578063715018a6146107815780638da5cb5b146107985780638dc10768146107ef57806395d89b4114610837578063a22cb465146108c7578063b88d4fde14610916578063c87b56dd146109c9578063d39fa23314610a6f578063d9d6165514610ab0578063e985e9c514610b48578063f2fde38b14610bc3578063f5fc3e5814610c06575b600080fd5b34801561019c57600080fd5b506101da60048036038101908080357bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19169060200190929190505050610c47565b604051808215151515815260200191505060405180910390f35b34801561020057600080fd5b50610209610cae565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561024957808201518184015260208101905061022e565b50505050905090810190601f1680156102765780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561029057600080fd5b506102af60048036038101908080359060200190929190505050610d50565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156102fd57600080fd5b5061031c60048036038101908080359060200190929190505050610d8d565b604051808381526020018281526020019250505060405180910390f35b34801561034557600080fd5b50610384600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610db1565b005b34801561039257600080fd5b5061039b610ef6565b6040518082815260200191505060405180910390f35b6103b9610f03565b005b3480156103c757600080fd5b506103d06110b2565b6040518082815260200191505060405180910390f35b3480156103f257600080fd5b506103fb6110bf565b60405180827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916815260200191505060405180910390f35b34801561045b57600080fd5b506104ba600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506110e6565b005b6104da600480360381019080803590602001909291905050506111f1565b604051808215151515815260200191505060405180910390f35b34801561050057600080fd5b5061053f600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291905050506112e7565b6040518082815260200191505060405180910390f35b34801561056157600080fd5b506105806004803603810190808035906020019092919050505061135e565b604051808381526020018281526020019250505060405180910390f35b3480156105a957600080fd5b50610608600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050611398565b005b34801561061657600080fd5b50610635600480360381019080803590602001909291905050506113b9565b005b34801561064357600080fd5b506106626004803603810190808035906020019092919050505061147d565b604051808215151515815260200191505060405180910390f35b34801561068857600080fd5b506106a7600480360381019080803590602001909291905050506114ef565b6040518082815260200191505060405180910390f35b3480156106c957600080fd5b506106e860048036038101908080359060200190929190505050611527565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561073657600080fd5b5061076b600480360381019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506115a5565b6040518082815260200191505060405180910390f35b34801561078d57600080fd5b50610796611629565b005b3480156107a457600080fd5b506107ad61172e565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156107fb57600080fd5b5061081a60048036038101908080359060200190929190505050611754565b604051808381526020018281526020019250505060405180910390f35b34801561084357600080fd5b5061084c611787565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561088c578082015181840152602081019050610871565b50505050905090810190601f1680156108b95780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3480156108d357600080fd5b50610914600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803515159060200190929190505050611829565b005b34801561092257600080fd5b506109c7600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050611965565b005b3480156109d557600080fd5b506109f46004803603810190808035906020019092919050505061198d565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610a34578082015181840152602081019050610a19565b50505050905090810190601f168015610a615780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b348015610a7b57600080fd5b50610a9a60048036038101908080359060200190929190505050611a56565b6040518082815260200191505060405180910390f35b348015610abc57600080fd5b50610af1600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611a79565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b83811015610b34578082015181840152602081019050610b19565b505050509050019250505060405180910390f35b348015610b5457600080fd5b50610ba9600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611b10565b604051808215151515815260200191505060405180910390f35b348015610bcf57600080fd5b50610c04600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611ba4565b005b348015610c1257600080fd5b50610c3160048036038101908080359060200190929190505050611c0c565b6040518082815260200191505060405180910390f35b6000806000837bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19167bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916815260200190815260200160002060009054906101000a900460ff169050919050565b606060058054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610d465780601f10610d1b57610100808354040283529160200191610d46565b820191906000526020600020905b815481529060010190602001808311610d2957829003601f168201915b5050505050905090565b60006002600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b60126020528060005260406000206000915090508060000154908060010154905082565b6000610dbc82611527565b90508073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1614151515610df957600080fd5b8073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161480610e395750610e388133611b10565b5b1515610e4457600080fd5b826002600084815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550818373ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560405160405180910390a4505050565b6000601180549050905090565b600080600080600080600e80549050111515610f1e57600080fd5b6000600f80549050111515610f3257600080fd5b662386f26fc100003410151515610f4857600080fd5b600c60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc349081150290604051600060405180830381858888f193505050501515610faa57600080fd5b610fb26110b2565b945033600d600087815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506110166000600e80549050611c2f565b93506110286000600f80549050611c2f565b9250600e8481548110151561103957fe5b90600052602060002001549150600f8381548110151561105557fe5b906000526020600020015490506040805190810160405280838152602001828152506012600087815260200190815260200160002060008201518160000155602082015181600101559050506110ab3386611c63565b5050505050565b6000600980549050905090565b6301ffc9a77c01000000000000000000000000000000000000000000000000000000000281565b6110f03382611cba565b15156110fb57600080fd5b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415151561113757600080fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415151561117357600080fd5b61117d8382611d4f565b6111878382611e52565b611191828261200e565b808273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a4505050565b6000600c60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561124f57600080fd5b3073ffffffffffffffffffffffffffffffffffffffff1631821115151561127557600080fd5b600c60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc839081150290604051600060405180830381858888f193505050501580156112dd573d6000803e3d6000fd5b5060019050919050565b60006112f2836115a5565b821015156112ff57600080fd5b600760008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208281548110151561134b57fe5b9060005260206000200154905092915050565b6000806012600084815260200190815260200160002060000154601260008581526020019081526020016000206001015491509150915091565b6113b48383836020604051908101604052806000815250611965565b505050565b600c60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561141557600080fd5b6000600d600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555061147a61147482611527565b826120e5565b50565b6000806001600084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415915050919050565b60006114f96110b2565b8210151561150657600080fd5b60098281548110151561151557fe5b90600052602060002001549050919050565b6000806001600084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415151561159c57600080fd5b80915050919050565b60008073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16141515156115e257600080fd5b600360008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b600c60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561168557600080fd5b600c60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167ff8df31144d9c2f0f6b59d69b8b98abd5459d07f2742c4df920b25aae33c6482060405160405180910390a26000600c60006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b600c60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60118181548110151561176357fe5b90600052602060002090600202016000915090508060000154908060010154905082565b606060068054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561181f5780601f106117f45761010080835404028352916020019161181f565b820191906000526020600020905b81548152906001019060200180831161180257829003601f168201915b5050505050905090565b3373ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415151561186457600080fd5b80600460003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c3183604051808215151515815260200191505060405180910390a35050565b6119708484846110e6565b61197c8484848461221d565b151561198757600080fd5b50505050565b60606119988261147d565b15156119a357600080fd5b600b60008381526020019081526020016000208054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611a4a5780601f10611a1f57610100808354040283529160200191611a4a565b820191906000526020600020905b815481529060010190602001808311611a2d57829003601f168201915b50505050509050919050565b600e81815481101515611a6557fe5b906000526020600020016000915090505481565b6060600760008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020805480602002602001604051908101604052809291908181526020018280548015611b0457602002820191906000526020600020905b815481526020019060010190808311611af0575b50505050509050919050565b6000600460008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b600c60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515611c0057600080fd5b611c098161243f565b50565b600f81815481101515611c1b57fe5b906000526020600020016000915090505481565b60006010600081548092919060010191905055506001600a600143034060019004811515611c5957fe5b0601905092915050565b611c6d828261253b565b600980549050600a60008381526020019081526020016000208190555060098190806001815401808255809150509060018203906000526020600020016000909192909190915055505050565b600080611cc683611527565b90508073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff161480611d3557508373ffffffffffffffffffffffffffffffffffffffff16611d1d84610d50565b73ffffffffffffffffffffffffffffffffffffffff16145b80611d465750611d458185611b10565b5b91505092915050565b8173ffffffffffffffffffffffffffffffffffffffff16611d6f82611527565b73ffffffffffffffffffffffffffffffffffffffff16141515611d9157600080fd5b600073ffffffffffffffffffffffffffffffffffffffff166002600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16141515611e4e5760006002600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505b5050565b6000806000611e6185856125e1565b60086000858152602001908152602001600020549250611ecd6001600760008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208054905061271090919063ffffffff16565b9150600760008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002082815481101515611f1b57fe5b9060005260206000200154905080600760008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002084815481101515611f7557fe5b9060005260206000200181905550600760008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020805480919060019003611fd59190612926565b50600060086000868152602001908152602001600020819055508260086000838152602001908152602001600020819055505050505050565b600061201a8383612729565b600760008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020805490509050600760008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020829080600181540180825580915050906001820390600052602060002001600090919290919091505550806008600084815260200190815260200160002081905550505050565b60008060006120f48585612883565b6000600b600086815260200190815260200160002080546001816001161561010002031660029004905014151561214557600b600085815260200190815260200160002060006121449190612952565b5b600a6000858152602001908152602001600020549250612174600160098054905061271090919063ffffffff16565b915060098281548110151561218557fe5b90600052602060002001549050806009848154811015156121a257fe5b906000526020600020018190555060006009838154811015156121c157fe5b906000526020600020018190555060098054809190600190036121e49190612926565b506000600a60008681526020019081526020016000208190555082600a6000838152602001908152602001600020819055505050505050565b60008061223f8573ffffffffffffffffffffffffffffffffffffffff166128f7565b151561224e5760019150612436565b8473ffffffffffffffffffffffffffffffffffffffff1663150b7a02338887876040518563ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200183815260200180602001828103825283818151815260200191508051906020019080838360005b83811015612343578082015181840152602081019050612328565b50505050905090810190601f1680156123705780820380516001836020036101000a031916815260200191505b5095505050505050602060405180830381600087803b15801561239257600080fd5b505af11580156123a6573d6000803e3d6000fd5b505050506040513d60208110156123bc57600080fd5b8101908080519060200190929190505050905063150b7a027c0100000000000000000000000000000000000000000000000000000000027bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19161491505b50949350505050565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415151561247b57600080fd5b8073ffffffffffffffffffffffffffffffffffffffff16600c60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a380600c60006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415151561257757600080fd5b612581828261200e565b808273ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a45050565b8173ffffffffffffffffffffffffffffffffffffffff1661260182611527565b73ffffffffffffffffffffffffffffffffffffffff1614151561262357600080fd5b6126766001600360008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461271090919063ffffffff16565b600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208190555060006001600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505050565b600082821115151561271e57fe5b818303905092915050565b600073ffffffffffffffffffffffffffffffffffffffff166001600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614151561279757600080fd5b816001600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555061283c6001600360008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205461290a90919063ffffffff16565b600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055505050565b61288d8282611d4f565b6128978282611e52565b80600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a45050565b600080823b905060008111915050919050565b6000818301905082811015151561291d57fe5b80905092915050565b81548183558181111561294d5781836000526020600020918201910161294c919061299a565b5b505050565b50805460018160011615610100020316600290046000825580601f106129785750612997565b601f016020900490600052602060002090810190612996919061299a565b5b50565b6129bc91905b808211156129b85760008160009055506001016129a0565b5090565b905600a165627a7a72305820d22771590e7648fae50ef0a7bc4c837fcc512f1f8c386c8f48184e533d3be8db0029',
     gas: '4700000'
   }, function (e, contract){
    console.log(e, contract);
    if (typeof contract.address !== 'undefined') {
         console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);
    }
 })


var _adCardToken = "0xef95ce5e5c2f130c3d0055ead160c8b06881e8e6";
var adcardgameContract = web3.eth.contract([{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"uint256"}],"name":"usersSingleGames","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"amount","type":"uint256"}],"name":"withdraw","outputs":[{"name":"","type":"bool"}],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"maxSingleGameId","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"singleGames","outputs":[{"name":"player","type":"address"},{"name":"contractMiddleCard","type":"uint256"},{"name":"contractLastCard","type":"uint256"},{"name":"userCardTkn","type":"uint256"},{"name":"playerBet","type":"uint256"},{"name":"userCardHigh","type":"uint8"},{"name":"result","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_address","type":"address"}],"name":"getUserSingleGames","outputs":[{"name":"","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_tokenId","type":"uint256"}],"name":"createSingleGame","outputs":[{"name":"","type":"uint256"}],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_adCardToken","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"}],"name":"OwnershipRenounced","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"}]);
var adcardgame = adcardgameContract.new(
   _adCardToken,
   {
     from: web3.eth.accounts[0],
     data: '0x60806040526000600155600060025534801561001a57600080fd5b5060405160208061120c83398101806040528101908080519060200190929190505050336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505061113e806100ce6000396000f300608060405260043610610099576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063264ade681461009b5780632e1a7d4d146100fc5780636a28d04714610134578063715018a61461015f57806374b8ea19146101765780638da5cb5b1461021957806399880b0514610270578063d46f75ea14610308578063f2fde38b1461033c575b005b3480156100a757600080fd5b506100e6600480360381019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919050505061037f565b6040518082815260200191505060405180910390f35b61011a600480360381019080803590602001909291905050506103af565b604051808215151515815260200191505060405180910390f35b34801561014057600080fd5b506101496104a3565b6040518082815260200191505060405180910390f35b34801561016b57600080fd5b506101746104a9565b005b34801561018257600080fd5b506101a1600480360381019080803590602001909291905050506105ab565b604051808873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018781526020018681526020018581526020018481526020018360ff1660ff1681526020018260ff1660ff16815260200197505050505050505060405180910390f35b34801561022557600080fd5b5061022e610636565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561027c57600080fd5b506102b1600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061065b565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b838110156102f45780820151818401526020810190506102d9565b505050509050019250505060405180910390f35b610326600480360381019080803590602001909291905050506106f2565b6040518082815260200191505060405180910390f35b34801561034857600080fd5b5061037d600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610f23565b005b60056020528160005260406000208181548110151561039a57fe5b90600052602060002001600091509150505481565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561040c57600080fd5b3073ffffffffffffffffffffffffffffffffffffffff1631821115151561043257600080fd5b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc839081150290604051600060405180830381858888f19350505050158015610499573d6000803e3d6000fd5b5060019050919050565b60015481565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561050457600080fd5b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167ff8df31144d9c2f0f6b59d69b8b98abd5459d07f2742c4df920b25aae33c6482060405160405180910390a260008060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550565b6004818154811015156105ba57fe5b90600052602060002090600602016000915090508060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060010154908060020154908060030154908060040154908060050160009054906101000a900460ff16908060050160019054906101000a900460ff16905087565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6060600560008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208054806020026020016040519081016040528092919081815260200182805480156106e657602002820191906000526020600020905b8154815260200190600101908083116106d2575b50505050509050919050565b60008060008060008060006107056110b8565b6000662386f26fc10000341015151561071d57600080fd5b674563918244f400003073ffffffffffffffffffffffffffffffffffffffff16311015151561074b57600080fd5b3373ffffffffffffffffffffffffffffffffffffffff16600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16636352211e8c6040518263ffffffff167c010000000000000000000000000000000000000000000000000000000002815260040180828152602001915050602060405180830381600087803b1580156107f357600080fd5b505af1158015610807573d6000803e3d6000fd5b505050506040513d602081101561081d57600080fd5b810190808051906020019092919050505073ffffffffffffffffffffffffffffffffffffffff1614151561085057600080fd5b61085c60016064610f8a565b955060009250600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166338e5cdce8b6040518263ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808281526020019150506040805180830381600087803b1580156108f257600080fd5b505af1158015610906573d6000803e3d6000fd5b505050506040513d604081101561091c57600080fd5b8101908080519060200190929190805190602001909291905050508098508199505050858710151561094d57600192505b610a186000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630ff1b75e6040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b1580156109d857600080fd5b505af11580156109ec573d6000803e3d6000fd5b505050506040513d6020811015610a0257600080fd5b8101908080519060200190929190505050610f8a565b9450610ae56000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16630ff1b75e6040518163ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401602060405180830381600087803b158015610aa557600080fd5b505af1158015610ab9573d6000803e3d6000fd5b505050506040513d6020811015610acf57600080fd5b8101908080519060200190929190505050610f8a565b935060018360ff161415610c58578484108015610b0157508785105b15610bb65760e0604051908101604052803373ffffffffffffffffffffffffffffffffffffffff1681526020018681526020018581526020018b81526020013481526020018460ff168152602001600160ff1681525091503373ffffffffffffffffffffffffffffffffffffffff166108fc6611c37937e08000606460963402811515610b8a57fe5b04039081150290604051600060405180830381858888f193505050501515610bb157600080fd5b610c53565b60e0604051908101604052803373ffffffffffffffffffffffffffffffffffffffff1681526020018681526020018581526020018b81526020013481526020018460ff168152602001600060ff1681525091503373ffffffffffffffffffffffffffffffffffffffff166108fc6611c37937e0800034039081150290604051600060405180830381858888f193505050501515610c5257600080fd5b5b610db9565b8488108015610c6657508385105b15610d1b5760e0604051908101604052803373ffffffffffffffffffffffffffffffffffffffff1681526020018681526020018581526020018b81526020013481526020018460ff168152602001600160ff1681525091503373ffffffffffffffffffffffffffffffffffffffff166108fc6611c37937e08000606460963402811515610cef57fe5b04039081150290604051600060405180830381858888f193505050501515610d1657600080fd5b610db8565b60e0604051908101604052803373ffffffffffffffffffffffffffffffffffffffff1681526020018681526020018581526020018b81526020013481526020018460ff168152602001600060ff1681525091503373ffffffffffffffffffffffffffffffffffffffff166108fc6611c37937e0800034039081150290604051600060405180830381858888f193505050501515610db757600080fd5b5b5b60016004839080600181540180825580915050906001820390600052602060002090600602016000909192909190915060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506020820151816001015560408201518160020155606082015181600301556080820151816004015560a08201518160050160006101000a81548160ff021916908360ff16021790555060c08201518160050160016101000a81548160ff021916908360ff160217905550505003600181905550600560003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020905080600154908060018154018082558091505090600182039060005260206000200160009091929091909150555060015498505050505050505050919050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610f7e57600080fd5b610f8781610fbe565b50565b60006002600081548092919060010191905055506001600a600143034060019004811515610fb457fe5b0601905092915050565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614151515610ffa57600080fd5b8073ffffffffffffffffffffffffffffffffffffffff166000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a3806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b60e060405190810160405280600073ffffffffffffffffffffffffffffffffffffffff16815260200160008152602001600081526020016000815260200160008152602001600060ff168152602001600060ff16815250905600a165627a7a72305820525025d5744ab7990fb84c4bbd73d235a89ed366b082a63ba196ffab4eda74d20029',
     gas: '4700000'
   }, function (e, contract){
    console.log(e, contract);
    if (typeof contract.address !== 'undefined') {
         console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);
    }
 })


/*adTokenContract.setProvider(web3.currentProvider);

web3.eth.getAccounts((error, accounts) => {
      var account = accounts[0];
      adTokenContract.deployed().then((instance) => {
        SoccerDappInstance = instance;
        return adTokenContract.mint(this.state.username, {from: account, gas: 6654755})
      }).then((res) => {
        console.log(res);
      })
    })
*/

console.log(adGameContract);
console.log(adTokenContract);


Template.hello.onCreated(function helloOnCreated() {
  // counter starts at 0
  this.counter = new ReactiveVar(0);
  EthBlocks.init();
  EthTools.ticker.start();

});

Template.hello.helpers({
  counter() {
    return Template.instance().counter.get();
  },
  currentBlock() {
        return EthBlocks.latest.number;
  },
  getBalance()
  {
    return EthTools.ticker.findOne('usd').price;
  }
});

Template.hello.events({
  'click button'(event, instance) {
    // increment the counter when button is clicked
    instance.counter.set(instance.counter.get() + 1);
  },
});
